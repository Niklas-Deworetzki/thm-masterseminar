
\section{Multistage Computations}\label{sec:multistage}

When solving computational problems, the required calculations can be performed either in a single computational stage, or can be separated into multiple stages.
This is especially obvious when working with compiled programming languages.
Here the compiler itself provides an additional computing stage, performing compile-time computations and transforming the source language to an (executable) target language.
Since multistage computations will be a recurring theme in the following sections, we now introduce a notation to reason about it in a formal way. This notation was adopted from . % TODO

The simplest form of computation is a single-stage computation.
Here we have a source program written in a language \textit{S}, that defines meaning and behavior of this program.
Applying that program to an input, yields an output in one computation step.
This is written as follows:

% TODO: Improve typesetting of equations?
\begin{align*}
  \mathtt{output}\ &=\ \llbracket \mathtt{source} \rrbracket_{\mathtt{S}}\ \mathtt{input}
\end{align*}

Since a programming language \textit{S} usually cannot be executed directly by the underlying hardware, an interpreter can be used to execute the program.
This interpreter then accepts the source program as well as the original input to produce an output in one computational stage.

\begin{align*}
  \mathtt{output}\ &=\ \llbracket \mathtt{interpreter} \rrbracket_{\mathtt{L}}\ [\mathtt{source}, \mathtt{input}]
\end{align*}

Next we reconsider the case described above, where a compiler is used to split the computation into two stages.
Here the compiler accepts only a single input (the source program) and generates another program, which then accepts some input to produce the desired output.

\begin{align*}
  \mathtt{output}\ &=\ \llbracket \llbracket \mathtt{compiler} \rrbracket_{\mathtt{L}}\ \mathtt{source} \rrbracket_{\mathtt{T}}\ \mathtt{input} \\
  &=\ \llbracket \mathtt{target} \rrbracket_{\mathtt{T}}\ \mathtt{input}
\end{align*}

In this equation, the nested brackets indicate that multiple computational stages are present, since the result of one computation is used to perform another.



%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../paper"
%%% End:
